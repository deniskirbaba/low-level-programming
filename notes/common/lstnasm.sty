\lstdefinelanguage{asm}{ 
texcl=false, 
morekeywords=[1]{ db, dd, dw, dq, dt, do, dy, dz },
morekeywords=[2]{ resb, resd, resw, resq, rest, reso, resy, resz},
morekeywords=[3]{ .data, .text, .code, .bss, .stack }, 
morekeywords=[4]{ equ, times, include, strlen, xdefine, define, macro, endmacro,
if, ifidn, ifidni, else, elif, endif, assign, rep, endrep, exitrep, line,
ifid, ifstr, ifnum},
morekeywords=[5]{
    add,         
    addps,
    and,
    call,        
    cmp,         
    cvtdq2pd,
    dec,
    div,         
    enter,
    haddps,
    idiv,
    imul,
    inc,         
    int,         
    iretq,         
    ja,          
    jae,         
    jb,          
    jbe,         
    je,
    jg,          
    jge,         
    jl,          
    jle,         
    jmp,         
    jne,
    jns,
    jnl,
    jnz,         
    js, 
    jz,          
    lea,         
    leave,
    lfence,
    mfence,
    mov,         
    movdqa,
    movdqa,
    movdqu,
    movdqu,
    movq,
    movs
    movsb,
    movsd,
    movsd,
    mul,         
    mulpd,
    mulps,
    mulsd,
    neg,
    not,
    or,
    packswb,
    pop,
    push,        
    rdmsr,
    rep,
    ret,         
    sal,
    sar,
    scasb,
    scasd,
    sfence,
    shl,
    shr,
    shufps,
    sub,         
    syscall,     
    sysret,     
    test,        
    unpcklps,
    vbroadcastss,
    wrmsr,
    xor,         
},               
%x64 gp registers
morekeywords=[6]{rax, rbx, rcx, rdx, rsi, rdi, rsp, rbp, r0, r1, r2, r3,
r4, r5, r6, r7, r8, r9, r10, r11, r12, r13, r14, r15,  eax, ebx, ecx, edx, esp,
ebp, esi, edi,ax, bx, cx, dx, sp, bp, si, di, ah, al, bh, bl, ch, cl, dh, dl,
rip,eip, ip, rflags, eflags, flags},
%x64 segment registers
morekeywords=[7]{cs, ds, ss, es, gs, fs},
%x64 service registers
morekeywords=[8]{cr0, cr1, cr4, cr5, cr6, cr7, cr8, efer, idtr, gdtr, ldtr, tr},
%
morekeywords=[9]{section, global, extern, bits, wrt, rel, got, plt}, 
%
% Comments delimiters, we do turn this off for the manual
morecomment=[l]{;},
%
morecomment=[s]{(*}{*)},
% Spaces are not displayed as a special character
showstringspaces=false,
%
% String delimiters
morestring=[b]",
morestring=[d]',
%
% Case sensitivity
sensitive=false,
%
% Automatic breaking of long lines
breaklines=false,
%%%
% Default style fors listings
basicstyle=\ttfamily,
%
% flexible columns
%columns=[l]flexible,
columns=fixed,
% 
%identifierstyle={\color{Blue}}, 
%keywordstyle=[1]{\color{DarkOrchid}}, 
%keywordstyle=[2]{\color{darkelectricblue}}, 
%keywordstyle=[3]{\color{ltblue}}, 
%keywordstyle=[4]{\color{Maroon}}, 
%keywordstyle=[5]{\color{CadetBlue}},
%keywordstyle=[6]{\color{black}},
%keywordstyle=[7]{\color{black}},
%keywordstyle=[8]{\color{black}}, 
%keywordstyle=[9]{\color{antiquefuchsia}}, 
%stringstyle={\color{Fuchsia}\ttfamily}, 
%commentstyle={\color{battleshipgrey}\ttfamily}  
}[keywords,comments,strings]